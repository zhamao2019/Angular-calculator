<form [formGroup]="feesForm">
    
<!-- personal cost form part -->
<div class="card mb-5">
    <h5 class="card-header">Personal Cost</h5>
    <div class="p-3"
    formArrayName="usersArray"
    *ngFor="let personalCost of usersArray.controls; let i=index">
        <div class="d-flex flex-row align-items-center"
        [formGroup]="personalCost" >

            <input type="text" class="form-control mr-3" placeholder="Name"
            formControlName="name">
            
            <div class="input-group mr-3">
                <div class="input-group-prepend">
                    <div class="input-group-text">$</div>
                </div>
                <input type="text" class="form-control" placeholder="0.00"
                formControlName="fee">
            </div>
            <div class="form-check mr-3">
                <input type="checkbox" class="form-check-input"
                formControlName="tax">
                <label class="form-check-label">Tax</label>
            </div>
            <button class="btn btn-sm btn-outline-secondary"
            (click)="deleteUserRow(i)">Delete</button>               
        </div>  
    </div>
    <button class="btn btn-dark"
    (click)="addUserRow()">Add</button>
</div>
<!-- personal cost form part end-->

<div class="card-deck">
    <!-- Shared Cost form part-->
    <div class="card border border-light"
    formArrayName="sharedCostArray"
    *ngFor="let sharedCost of sharedCostArray.controls; let i=index">
        <h5 class="card-header">Equally Shared Cost</h5>
        <div class="form-group p-3"
        [formGroup]="sharedCost">
            <label>Delivery Fees</label>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <div class="input-group-text">$</div>
                </div>
                <input type="text" class="form-control" placeholder="0.00"
                formControlName="delivery">
            </div>
            <label>Service Fees</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <div class="input-group-text">$</div>
                </div>
                <input type="text" class="form-control" placeholder="0.00"
                formControlName="service">
            </div>
        </div>
    </div>
    <!-- Shared Cost form part end-->

    <!-- Actual Payment form part-->
    <div class="card border border-light">
        <h5 class="card-header">Actual Payment</h5>
        <div class="form-group p-3">
            <label>Total Price</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <div class="input-group-text">$</div>
                </div>
                <input type="text" class="form-control" placeholder="0.00"
                formControlName="total">
            </div>
        </div>
    </div>
    <!-- Actual Payment form part end-->
</div>
</form>

<p>{{ this.feesForm.value | json }}</p>


<button class="btn btn-dark btn-lg btn-block mb-3"
(click)="onSubmit( feesForm.value )">Calculate</button>
<button class="btn btn-info btn-lg btn-block"
(click)="onReset()">Reset</button>


